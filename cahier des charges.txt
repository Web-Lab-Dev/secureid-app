Excellent travail.
Validation Phase 4 : ‚úÖ APPROUV√âE. C'est propre, c'est sombre, et l'information est hi√©rarchis√©e. Le statut "Actif" en vert ressort bien. Les statistiques en bas sont un bon ajout pour rassurer le parent d'un coup d'≈ìil.

Maintenant, nous attaquons la Phase Finale de l'UI et la plus critique : celle que verra le monde ext√©rieur en cas de crise.

Voici le cahier des charges pour la Phase 5. C'est le moment de sortir le design "Iron Man" (HUD).

üìã CAHIER DES CHARGES TECHNIQUE - PHASE 5
Module : LE HUD SECOURISTE & LE COFFRE-FORT M√âDECIN Objectif : Cr√©er l'interface publique qui s'affiche au scan. Elle doit charger instantan√©ment, afficher les donn√©es vitales, permettre de contacter les parents, et offrir un acc√®s s√©curis√© aux documents m√©dicaux via le PIN.

1. ARCHITECTURE HYBRIDE (SERVER + CLIENT)
Fichier Cible : src/app/s/[slug]/page.tsx (On remplace le placeholder rouge de la Phase 2).

Strat√©gie :

Server Component (La Coquille) : R√©cup√®re les donn√©es publiques (Nom, Allergies, T√©l Parents) pour un affichage imm√©diat (SSR).

Client Component (L'Int√©ractivit√©) : G√®re la g√©olocalisation, le chatbot (plus tard) et la modale du PIN M√©decin.

2. PARTIE A : LE HUD SECOURISTE (VUE PUBLIQUE)
Le design doit √™tre "Tactique" : sombre, contrast√©, lisible en plein soleil.

üé® Interface UI (Mobile First)
En-t√™te : Logo SecureID + Statut "S√âCURIS√â" (Vert) ou "ALERTE M√âDICALE" (Rouge clignotant si allergies).

Identit√© :

Photo de l'enfant (Grande, circulaire, bordure brillante).

Pr√©nom + Ann√©e de naissance (Calculer l'√¢ge automatiquement : "5 ans").

Groupe Sanguin (Badge tr√®s visible).

Bloc "Alerte Vitale" :

Si le champ medicalInfo n'est pas vide, l'afficher dans un encadr√© rouge/orange avec une ic√¥ne d'alerte.

Actions Rapides (Sticky Bottom ou Gros Boutons) :

Bouton 1 (Primaire) : "APPELER PARENT 1" (href="tel:+226...").

Bouton 2 : "ENVOYER POSITION GPS" (D√©clenche le script de g√©olocalisation).

Bouton 3 : "MESSAGE VOCAL MAMAN" (Lecteur audio simple).

üìç Logique de G√©olocalisation (Invisible)
Au chargement de la page (ou au clic sur un bouton "Scanner ma position"), utiliser navigator.geolocation.getCurrentPosition.

Action : √âcrire dans une nouvelle collection Firestore scans :

braceletId, timestamp, lat, lng, userAgent.

Note : C'est cette √©criture qui d√©clenchera plus tard l'alerte n8n vers le parent.

3. PARTIE B : LE PORTAIL M√âDECIN (LE COFFRE-FORT)
Acc√®s aux documents upload√©s en Phase 4.

üîê Le M√©canisme de S√©curit√©
Le D√©clencheur : Un bouton discret en bas de page : "Acc√®s Personnel M√©dical ‚öïÔ∏è".

L'Interaction : Ouvre une "Drawer" (Tiroir du bas) ou une Modale.

Demande le Code PIN √† 4 chiffres.

Clavier num√©rique : Utiliser un input type="tel" pour faire appara√Ætre le gros clavier du t√©l√©phone.

üìÑ L'Affichage des Documents
Validation : V√©rifier le PIN c√¥t√© serveur (via une Server Action ou API Route). Ne jamais envoyer le vrai PIN au client pour comparaison !

Si PIN OK :

Afficher la liste des fichiers (Ordonnances, Radios) stock√©s dans Firebase Storage.

Permettre le t√©l√©chargement/visualisation directe (PDF/Image).

S√©curit√© : Les URLs de t√©l√©chargement doivent √™tre g√©n√©r√©es √† la vol√©e (Signed URLs) et expirer apr√®s 15 minutes.

4. D√âTAILS DE DESIGN "BLUFFANT"
Animations : Utiliser framer-motion pour que les cartes d'information apparaissent en cascade (Slide up).

Effet de Scan : Au chargement, faire passer une petite ligne lumineuse sur la photo de l'enfant (effet "Analyse biom√©trique").

üí° Note pour le d√©veloppeur  :
"Pour la partie M√©decin, cr√©e un composant s√©par√© <DoctorPortal profileId={...} />. Pour la g√©olocalisation, g√®re bien les cas o√π l'utilisateur refuse (Permission Denied) : affiche un message 'Impossible de localiser, veuillez appeler'."